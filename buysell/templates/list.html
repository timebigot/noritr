{% extends 'base.html' %}
{% block title %}
{% if title %}
{{ title|title }}
{% else %}
{{ search }}
{% endif %}
{% endblock %}

{% block content %}
{% load staticfiles %}
{% load tags %}
<div class="container">
    {% if title.kor_name %}
    <h3>{{ title.kor_name }}</h3>
    {% elif title == 'all' or title == 'free' %}
    <h3>{{ title|title }}</h3>
    {% elif title %}
    <h3>{{ title }}</h3>
    {% elif search %}
    <h3>Search: {{ search }}</h3>
    {% endif %}
</div>
<div class="container">
    <div class="row">
        {% for item in items %}
        {% include "card.html" %}
        {% endfor %}
    </div>
</div>
<nav align="center">
    <ul class="pagination pagination-lg">
        {% if items.has_previous %}
        <li>
            {% if title.slug %}
            <a href="/{{ view }}/{{ title.slug|lower }}/{{ items.previous_page_number }}">
            {% elif seller %}
            <a href="/{{ view }}/{{ seller }}/{{ items.previous_page_number }}">
            {% elif search %}
            <a href="/{{ view }}/{{ search }}/{{ items.previous_page_number }}">
            {% else %}
            <a href="/{{ view }}/{{ title|lower }}/{{ items.previous_page_number }}">
            {% endif %}
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {% else %}
        <li class="disabled">
            <a>
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {% endif %}

        <li class="disabled">
            <a>
                {% if items.number %}
                {{ items.number }}
                {% else %}
                1
                {% endif %}
            </a>
        </li>

        {% if items.has_next %}
        <li>
            {% if title.slug %}
            <a href="/{{ view }}/{{ title.slug|lower }}/{{ items.next_page_number }}">
            {% elif seller %}
            <a href="/{{ view }}/{{ seller }}/{{ items.next_page_number }}">
            {% elif search %}
            <a href="/{{ view }}/{{ search }}/{{ items.next_page_number }}">
            {% else %}
            <a href="/{{ view }}/{{ title|lower }}/{{ items.next_page_number }}">
            {% endif %}
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
        {% else %}
        <li class="disabled">
            <a>
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
        {% endif %}
    </ul>
</nav>
{% endblock %}
